(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[15],{41344:function(t,e,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/clusters/list",function(){return s(42361)}])},42361:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return _}});var o=s(85893),r=s(39618),l=s(11163),n=s(2504),i=s(61279),a=s(67294),c=s(83121),u=s(80050),d=s(59734);let h=[{accessorKey:"clusterDisplay",header:"Cluster",sortable:!0,sortAccessor:t=>t.cluster},{accessorKey:"validators",header:"Validators",sortable:!0},{accessorKey:"operators",header:"Operators",sortable:!0}],v=t=>{var e;let{operator:s,setTotalClusters:l,setTotalValidators:n}=t,{data:a,error:c,isLoading:v}=(0,d.ZP)(s?"/dv/operator/".concat(s):null,u.gP),{data:p,error:f,isLoading:_}=(0,d.ZP)(s?"/lock/operator/".concat(s):null,u.e0);if(n&&n(null==p?void 0:p.total_count),v)return(0,o.jsx)(r.xv,{children:"Loading..."});if(c||!a)return(0,o.jsx)(r.xv,{children:"Error | no data"});if(a&&!a.cluster_definitions)return(0,o.jsx)(r.xv,{children:"No clusters"});let x=null==p?void 0:p.cluster_locks.map(t=>{var e,s,l,n;return{id:t._id,clusterDisplay:(0,o.jsx)(r.rU,{href:"/clusters/details/?lockHash=".concat(t.lock_hash),children:t.cluster_definition.name}),cluster:t.cluster_definition.name,validators:null===(e=t.cluster_definition)||void 0===e?void 0:null===(s=e.validators)||void 0===s?void 0:s.length,operators:null===(l=t.cluster_definition)||void 0===l?void 0:null===(n=l.operators)||void 0===n?void 0:n.length}}),g=null==p?void 0:p.cluster_locks.map(t=>t.cluster_definition.config_hash),m=null==a?void 0:null===(e=a.cluster_definitions)||void 0===e?void 0:e.filter(t=>!(null==g?void 0:g.includes(t.config_hash))),j=m.map(t=>{let e=t.operators.every(t=>""===t.address),s=e?"/solo/create-cluster/?configHash=".concat(t.config_hash,"&fromList=true"):"/dv/?configHash=".concat(t.config_hash);return{id:t._id,clusterDisplay:(0,o.jsx)(r.rU,{href:s,children:t.name}),cluster:t.name,status:(0,o.jsx)(r.HV,{textVariant:"body",status:(0,i.yc)(t)}),validators:t.validators.length,operators:t.operators.length}});return l&&(null==j?void 0:j.length)>0&&(null==g?void 0:g.length)>0&&l(j.length+g.length),(0,o.jsx)(r.Nk,{tabs:[{title:"Invites",count:j.length,tableProps:{columns:h,rows:j}},{title:"Clusters",count:null==p?void 0:p.total_count,tableProps:{columns:h,rows:x}}]})},p=(0,r.zo)(r.kC,{flexDirection:"column",width:"auto",gap:"$2xl",px:"10%",py:"$5xl","@sm":{px:"10%",py:"$5xl"}}),f=()=>{let t=(0,l.useRouter)(),e=(0,i.xs)(t,"walletAddress"),{account:s}=(0,n.kR)(),[u]=(0,n.pZ)(e||s),[d,h]=(0,a.useState)(0),[f,_]=(0,a.useState)(0),x=t=>{h(t)},g=t=>{_(t)};return(0,o.jsxs)(p,{children:[(0,o.jsx)(r.kC,{direction:"column",css:{gap:"$xxs"},children:(0,o.jsx)(r.xv,{variant:"h3",children:u||(0,c.zN)(e,[2,10],5)})}),(0,o.jsxs)(r.kC,{css:{gap:"$lg"},children:[(0,o.jsx)(r.gK,{heading:"Clusters",content:f||"N/A",tooltipContent:"The number of clusters that this user operates"}),(0,o.jsx)(r.gK,{heading:"Validators",content:d||"N/A",tooltipContent:"The number of validators in all of this operators clusters"}),(0,o.jsx)(r.gK,{heading:"Invites",content:f-d||"N/A",tooltipContent:"The number of cluster invites sent to this operator"})]}),(0,o.jsx)(v,{setTotalClusters:g,setTotalValidators:x,operator:e||s})]})};var _=f}},function(t){t.O(0,[774,888,179],function(){return t(t.s=41344)}),_N_E=t.O()}]);